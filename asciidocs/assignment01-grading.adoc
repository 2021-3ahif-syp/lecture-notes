= Assignment 01 Grading
Thomas Stütz
1.0.0, 2020-12-09: Class Diagram
ifndef::imagesdir[:imagesdir: images]
//:toc-placement!:  // prevents the generation of the doc at this position, so it can be printed afterwards
:sourcedir: ../src/main/java
:icons: font
:sectnums:    // Nummerierung der Überschriften / section numbering
:toc: left

//Need this blank line after ifdef, don't know why...
ifdef::backend-html5[]

// https://fontawesome.com/v4.7.0/icons/
//icon:file-text-o[link=https://raw.githubusercontent.com/htl-leonding-college/asciidoctor-docker-template/master/asciidocs/{docname}.adoc]
//icon:github-square[link=https://github.com/htl-leonding-college/asciidoctor-docker-template]
//icon:home[link=https://htl-leonding.github.io/]
endif::backend-html5[]

// print the toc here (not at the default position)
//toc::[]



Download am yyyy-MM-dd hh:mm



== 01AE -ngd(5)



[plantuml]
----
@startuml
class STAR_MOVIES {
String companyName
String entrepreneurs
string founder
}

class Cinema {
String name
String adress
String email
String phoneNumber
}

class Theater {
int roomNumber
}

class Movie {
String title
String genre
String productionYear
String county
String language
String duration
String distribution
}

class Actor {
String lastName
String firstName
String nationality
String birthdate
String dateOfDeath
String remark
}

class Ticket {
String cinema
String theater
String movieTitle
Date date
Time startTime
int number
String row
String seat
String price
}

class SeatPlan {

}

class Schedule {
int roomNumber
List<Movie> movies
Date date
List<Time> startTimes
}

class MovieDirector {
List<Movie> moviesDirected
}

STAR_MOVIES "1" -- "1..*" Cinema : > owns
Cinema "1" -- "1..*" Theater : > houses
Theater "0..*" -- "0..*" Movie : < runs in
Actor "0,1" -- "0,1" MovieDirector : < can be
MovieDirector "1" -- "1..*" Movie : > makes
Movie "1..*" -- "0..*" Actor : plays in <
Theater -- SeatPlan
Theater "1" -- "0..*" Schedule : schedules <
SeatPlan "1" -- "1..*" Ticket
@enduml
----

* Klasse STAR_MOVIES braucht man wohl nicht (im Hinblick auf die Speicherung in der Datenbank)
* Dein Klassendiagramm ist leider in weiten Teilen nicht korrekt.






== 02AR - ngd(5)



[plantuml]
----
@startuml

class Schauspieler{
    String bemerkung
    Date todesdatum
    Date geburtsdatum
    String nationalität
    String vorname
    String nachname
    String schauspieler
}

class Regisseur{
    String bemerkung
    Date todesdatum
    Date geburtsdatum
    String nationalität
    String vorname
    String nachname
    String schauspieler
}

class Film{
    int laufnummer
    String titel
    String art
    Date herstellungsjahr
    String land
    int dauer
    String verleih
}

class Vorstellung{
    Kino kino
    Date beginn
    Ticket ticket
}

class Ticket{
    int laufnummer
    Kino kino
    Saal saal
    String filmtitel
    Date datum
    Time beginnzeit
    int reihe
    int platz
    int price
}

class Saal{
    int reihen
    int pläzte
    int logen
}

class Kino{
    Location location

}

Film "0...*" -up- "1...*" Schauspieler
Film "1...*" -up- "1...*" Regisseur

Vorstellung "0...*" -up- "1" Kino
Vorstellung "1" -- "1" Saal
Vorstellung "0...*" -- "1" Film
Vorstellung "1" -- "0...*" Ticket

Kino "1...* 1" -left- Saal

@enduml
----

* die gleichen Fehler wie bei den anderen Abgaben.
* wird im Unterricht besprochen.




== 03AN - ngd(5)



[plantuml]
----
@startuml

class Cinema {
    - List<Auditorium>
    - List<Ticket>
    - name
    - address
}

class CinemaChain {
    - List<Cinema>
    - List<Movie>
    - name
}


class Auditorium {
    - List<SeatSection>
    - List<Movie>
}

class Seat {
    - row
    - seat
}
abstract SeatSection {
    - basePrice
    - actualPrice
    - abstruct List<Seat>
}
class Row {
    - List<Seat>
}

class Loge {
    - List<Seat>
}

class Movie {
    - title
    - director
    - genre
    - productionYear
    - country
    - language
    - duration
    - rental
    - List<Actor>
}

enum Genre {
    Thriller
    Western
    YouthFilm
}

class Ticket {
    - cinema
    - auditorium
    - movieTitle
    - date
    - startTime
    - ticketCount
    - seat
    - price
}

class Actor {
    - lastname
    - firstname
    - nationality
    - birthday
    - deathday
    - notes
}

class Director {

}

SeatSection <|-- Row
SeatSection <|-- Loge
Director --|> Actor
CinemaChain "1" --> "1..*" Cinema: hat Kinos >
Cinema "1" -r-> "1..*" Auditorium: hat Säle >
SeatSection "1" -r-> "1..*" Seat: hat sitze >
Auditorium "1" --> "1..*" SeatSection: hat sitzmöglichkeiten >
Movie "1..*" <-- "1" Auditorium: spiel Filme <
Movie "1" -r-> "1..*" Actor: hat Schauspieler >
CinemaChain "1" -r-> "1..*" Movie: besitzt Filme >
Cinema "1" --> "1..*" Ticket: verkauft Tickets >
Director "1" <-- "1..*" Movie: hat Regiseur <

Genre "1" <-- "1..*" Movie: hat genre <
@enduml
----

* die "besitzt Filme"-Assoziation braucht man wohl nicht. Man kann annehmen, dass die Filmrechte einer Kette für alle Standorte (Kinos) gelten.
* SeatSection ist mir nicht klar.
* Dir fehlen die Datentypen
* Die Vererbung bei Row und Loge ist m.E. zu kompliziert. Es gibt einfachere Möglichkeiten
* Sei vorsichtig (sparsam) mit Collections
* Seat und Ticket müssen miteinander verbunden sein. Du hast zwar in Ticket einen seat eingetragen, aber keine Beziehungen
* Du hast sehr viele Rechtschreibfehler.


== 04BN - ngd(5)

image:04bn-cld.png[alt=Class-Diagram,300]

* Das ist etwas zu einfach
* Deine \*:*-Assoziationen müssen aufgelöst werden
* Die Assoziationen müssen korrespondierende Attribute in den Klassen besitzen.
* Notation der Klassen: DatenTyp und Sichtbarkeit fehlt
* keine binären-Files abgeben!!!


== 05BL -gen(4)


[plantuml]
----
@startuml
class CinemaChain{
    -string name
    -List<Cinema> cinemas
}
class Cinema{
    -string name
    -string address
    -List<Ticket> tickets
    -List<Theatre> theatres
}

class Theatre{
    -List<Row> rows
    -int number
}

class Seat{
    -Row row
    -int number
    -boolean booked
}

class Row{
    -Theatre theatre
    -List<Seat> seats
    -int number
    -double price
}

class Ticket{
    -Cinema cinema
    -Theatre theatre
    -string movieTitle
    -Date date
    -LocalTime startTime
    -int number
    -Row row
    -Seat seat
    -double price
}

class Person{
    -string fistname
    -string lastname
    -string nationality
    -Date dateOfBirth
    -Date dateOfDeath
    -string note
}

class Movie{
    -string Title
    -string genre
    -Date relateDate
    -string countryOfOrigin
    -string Language
    -LocalTime duration
    -string rental
    -List<Person> actors
    -Person director
}

Cinema "1"-->"1..n" Theatre : has
Theatre "1"->"1..n" Row : has
Row "1"-->"1..n" Seat : has
Seat "1..n"-->"1" Row : is in

Person "1..n"-->"1..n" Movie : acts in
Person "1"-->"1..n" Movie : directs

Ticket "1..n"-->"1" Movie : is for

Cinema "1"-right->"1..n" Ticket : sells

CinemaChain "1"-->"1..n" Cinema : belongs to
@enduml
----

* CinemaChain wird wohl nicht benötigt
* Du verkaufst ein Ticket nicht pro Kino, sondern für einzelne Vorstellungen.
* Deine gerichtete Assoziation zwischen Movie und Director ist falsch
* zB in Ticket hast Du Attribute seat und row. Es fehlen die Assoziationen, die auf diese Klassen verweisen
** Dies wäre außerdem eine Überbestimmung (siehe Fazit)
* booked, zu einem Sitz eintragen, kann nicht funktionieren
** Wenn der Film mehrere Vorstellungen haabe, dann bräuchte ich mehrere booked-Felder
** Es ist selten vorteilhaft, BEwegungsdaten (booked) in Stammdatentabellen einzutragen
* usw.


== 06BoSe - ngd(5)

[plantuml]
----
@startuml
    class cinema{
        - cinemaName: String
        - cinemaNumber: int
    }
    class actor{
        - firstName: String
        - lastName: String
        - nationality: String
        - birthday: Date
        - deathday: Date
        - comment: String
    }
    class movie{
        - title: String
        - art: String
        - prod_date: Date
        - country: String
        - language: String
        - movieLength: Date
        - canBorrow: bool
        - Regisseur: String
    }
    class theater{
        - cinema: Cinema  // weil 1 zu n
        - theaterNumber: int
        - row: int
        - col: int
    }
    class theaterMovie{
        - movie: Movie
        - TimePlay: Date
        - theater: Theater
    }
    class ticket{
        - ghm: theaterMovie
        - row: int
        - col: int
        - price: double
    }
    class rowPrice{
        - row: int
        - price: double  // to change the price; this is a lookup table
    }

    ticket -u-> rowPrice: lookup table
    ticket "1..*" -> "1" theaterMovie: has >
    theaterMovie --> theater
    theaterMovie -> movie
    cinema "1" -> "1..*" theater: has >
    theater "1..*" -> "1..*" movie: can play >
    movie "1..*" -> "*"actor: has >

@enduml
----

* Klassenbezeichnungen sind grß zu schreiben zB Ticket.
* leider in weiten Teilen nicht korrekt.



== 07BoSo - ngd(5)



[plantuml]
----
@startuml
class cinema
{
 -String name;
 -int adress;
 -List<theaterhall>;
}
class theaterhall
{
  -int row;
  -int col;
  -bool IsSeatbought[];
  -double standardprice
}

theaterhall"1..*" <-l- "1" cinema:one or more halls on one cinema

class movie
{
  -String movietitle;
  -String genreOfMovie;
  -Date date;
  -int year_of_manufacture;
  -string country;
  -string language;

}
movie "1..*" <-l- "1" theaterhall:launch one or more movies

class price
{
+{method} Method double Calculateprice(standardprice, row, col)
}
price"1" <-l- "1" theaterhall:one calculated price to one seat

class actor
{
-String firstname;
-String lastname;
-Date birthday;
-Date dateOfDeath;
-String specialities;
-String nationality;
-bool IsRegisseur;

+actor(firstname, lastname,....)
}
actor"1..*" <-l- "1" movie:one or more actors to one movie
class regisseur
{
  bool IsRegisseur = true;
}
regisseur"1" <-l- "1" actor:reg=actor
@enduml
----


* nicht wirklich übersichtlich
* die gleichen Fehler wie bei den anderen Abgaben.
* wird im Unterricht besprochen.



== 09GA - ngd(5)



[plantuml]
----
@startuml
class Kino {
Säle
}

class Film {
Titel
Art
Herstellungsjahr
Land
Sprache
Dauer
Verleih
}

class Saal{
Sitzplätze
Sitzplan
Beginnzeit
}

class Regisseur {
Film
}

class Sitz{
Reihe
Platz
Preis
}

class Schauspieler {
Nachname
Vorname
Nationalität
Geburtsdatum
Todesdatum
Bemerkung
}

class Eintrittskarte{
Kino
Saal
Filmtitel
Datum
Beginnzeit
Reihe
Platz
Preis
}


Film"1" *-- "one or many" Schauspieler: contains
Kino"1" *-- "many" Saal: contains
Saal"1" *-- "many" Sitz: contains
Saal"1" *-- "many" Film: contains
Eintrittskarte"1" *-- "one" Film: contains
Regisseur"1" *-- "one or many" Film: produzieren
@enduml
----


* die gleichen Fehler wie bei den anderen Abgaben.
* wird im Unterricht besprochen.



== 10HC - ngd(5)


.falsch
[plantuml]
----
@startuml
class Vorstellung
class Film
class Kino
class Ticket
class Saal
class Sessel
class Schauspieler
class Regisseur

Vorstellung "many" -left- "one" Kino
Vorstellung "many" -down- "one" Saal
Vorstellung -up- "one" Beginn
Vorstellung  "many" -right- "one" Film
Vorstellung "one" -left- "many" Ticket

Film "many" -right- "many" Regisseur
Film "many" -down- "many" Schauspieler
Film -up- "one" Art

Saal "one" --> "many" Sessel

class Sessel{
Sitzpreis
Sitznummer
Sitzreihe
}

class Film{
Titel
Land
Herstellungsjahr
ID
Sprache
Verleih
Dauer
}

class Regisseur{
Vorname
Nachname
Geburtsdatum
Nationalität
Todesdatum
}

class Schauspieler{
Vorname
Nachname
Geburtsdatum
Nationalität
Todesdatum
Bemerkung
}

@enduml
----

* Notation falsch
** Es fehlen die Attribute (Felder), Datentypen, Sichtbarkeiten
** Multiplizitäten nicht korrekt
* Die Klassen wurden nicht korrekt identifiziert (zB Beginn ist ein Attribut, keine Klasse)
* Im Kinosaal stehen keine Sessel rum, sondern Sitze
* Wir besprechen das noch ...


== 11HA - gen(4)



[plantuml]
----
@startuml
class Cinema {
    name: String
    theaters: List<Theater>
    location: String
    cashDesks: List<CashDesk>
    getSales()
}

class Movie {
    name: String
    releaseDate: Date
    duration: int
    cast: Cast
    regisseur: Person
    addActor()
    isActorInMovie()
}

class MoviePlan {
    moviePlan: List<Movie>
}

class Theater {
    moviePlan: MoviePlan
    rows: List<Row>
    createMoviePlan()
}

class Seat{
    sold: boolean
    number: int
}

class Person{
    LName: String
    FName: String
    Nation: String
    Birthdate: Date
    DeathDate: Date
    Notes: String
    String getInfo()
}

class Actor{
    isRegisseur: boolean
}

class Row{
    standardPrice: double
    row: List<Seat>
    price: double
    setIndividualPrice(price)
}

class Card{
    seat: Seat
    movie: Movie
    price: double
    date:  Date

}

class Cast{
    actors: List<Person>
    others: List<Person>
}

class CashDesk{
    cards: List<Card>
    sellCard()
}

Cinema "1" -l-> "1..*" Theater: has >
Theater "1" -l-> "1" MoviePlan: has >
MoviePlan "1" --> "1..*" Movie: plays >
Movie "1..*" -d-> "1" Cast: has >
Cast "1" --> "1..*" Person: has >
Theater "1" --> "1..*" Row: has >
Row "1" -r-> "1..*" Seat: has >
CashDesk "1" --> "1..*" Card: sells >
Cinema "1" -r-> "1..*" CashDesk: has >
Card "1" --> "1" Movie: is sold for >
Card "1" -l-> "1..*" Seat: has >
Movie "1" --> "1" Person: has regisseur >
Person <|-r- Actor

@enduml
----

* Für die Sichtbarkeit +,- und ~ verwenden
* Attribute: werden *IMMER* kleingeschrieben (camel case)
* Klasse CashDesk nicht notwendig
* würde nicht mit Collections arbeiten
** im ersten Schritt eher wie ein ERD modellieren,
das es ja in einer DB gespeichert wird.
In einem zweiten Schritt kann man es optimieren.
Es ist übersichtlicher.
* Die Sonderpreise der Reihen ist nicht modeliert.
* Die Classe "Card" solltest Du eher "Ticket" nennen.
* Die Klasse Cast ist eigentlich mehr als nur ein Cast, es ist ein Engagement
** Weiters sollte die Klasse "Cast" keine Collections beinhalten
** "Cast" sollte mit "Actor" verbunden sein (falls man Actor überhaupt benötigt -> hat ein Actor zusätzliche Eigenschaften?)
** "isRegisseur" ist auf alle Fälle eher in Person sinnvoll.
** Cast sollte wie folgt aussehen, da dies eine assoziative Tabelle ist
+
[plantuml]
----
@startuml
class Cast {
  -movie: Movie
  -person: Person
  -zusätzliche Info - zB Rolle ...
}
@enduml
----

* Assoziation zwischen Seat und Card ist bezüglich Multiplizität falsch
** Auf einer Eintrittskarte ist genau ein Sitz eingetragen (sieht man am Attribut `seat`)
** Ein Seat kann öfters (in verschiedenen Vorstellungen) verkauft werden

* Es fehlt eine Assoziation "Vorstellung" (Show). Du verkaufst ja keine Eintrittskarten pro Kino,
sondern für jede Vorstellung

* Du und Deine Collections: Auch über Movie-Plan ist zu sprechen. (Das ist eigentlich "eine" Vorstellung)


== 12HS - ngd(5)


[plantuml, 'Cinema Chain', png]
----
@startuml
class CinemaChain{
-cinemas: List<Cinema>
}
class Cinema{
-name: String
-address: String
-theatres: List<Theatre>
-ticketSale: List<TicketSale>
}
class TicketSale{
-tickets: List<Ticket>
}
class Ticket{
-cinema: Cinema
-theatre: Theatre
-movieTitle :String
-date: Date
-startTime: DateTime
-runningNumber: int
-row: Row
-seat: Seat
-price: double
}
class Theatre{
-movie: List<Movie>
-rows: List<Row>
-movieSchedule: MovieSchedule
}
class Seat{
-rows: List<Row>
-isSeatOccupied: boolean
}
class Row{
-standardPrice: double
-individualPrice: double
-seats: List<Seat>
}
class Movie{
-actors: List<Actor>
-regisseur: Regisseur
-title: String
-genre: String
-yearOfManufacture: Date
-country: String
-language: String
-duration: TimeStamp
-distributor: String
-etc
}
class Actor{
-firstName: String
-lastName: String
-nationality: String
-birthDate: Date
-deathDate: Date
-remark: String
}
class Regisseur{
-isActor: boolean
}
class MovieSchedule{
}

Cinema "1..n" --> "1" CinemaChain: has <
Cinema  "1" <-l-  "1..n" TicketSale: has >
TicketSale "1" <-l- "1..n" Ticket: sells >
Cinema "1" <-- "1..n" Theatre: has >
Theatre "1" <-r- "1..n" Row: consists of >
Seat "1..n" --> "1" Row: consists of <
Theatre "1..n" <-- "1..n" Movie: play in <
Theatre "1" <-- "1" MovieSchedule: has a >
Movie "1..n "<-- "1..n" Actor: act in <
Actor <|-- Regisseur
@enduml
----

* Die Bezeichner des plantuml-Diagramm eher nicht unter Anführungszeichen stellen
und vor allem keine Leerzeichen verwenden. Dies ist der Filename des Diagramms.
** beim plantum-Diagramm in Asciidoctor das schließende "----" nicht vergessen.

.nicht gut
----
[plantuml, 'Cinema Chain', png]
----

.besser
----
[plantuml,cinema-chain,png]
----

* Der MovieSchedule (Vorstellungen) sollte eine Verbindung zu Movie haben.
Es ist durchaus interessant, welche Filme bei den einzelnen Vorstellungen gespielt werden.
* TicketSale wird wohl nicht gebraucht.
* Seat darf nicht "in der Luft hängen". Die Tickets werden ja für einen Seat verkauft.
* CinemaChain würde ich nicht erstellen. Eine DB-Tabelle hätte nur eine Zeile.
* Als Datentyp verwenden wir LocalDate und LocalDateTime
* du hast zwar in Movie den Regisseur eingetragen, aber es fehlt die grafische Assoziation
* In Ticket hast Du cinema eingetragen, es fehlt die grafische Entsprechung
* uvam



== 13HN - ngd(5)


[plantuml]
----
@startuml
class Kino {
Name
Adresse
}

class Saal {

}

class Film {
Titel
Art
Herstellungsjahr
Land
Sprache
Dauer
Verleih
}

class Sitzplan {

}

class Sitz {
Reihe
Platz
}

class Spielplan {

}

class Eintrittskarte {
Kino
Saal
Filmtitel
Datum
Beginnzeit
laufende Nummer innerhalb der Vorstellung
Reihe
Platz
Preis
}

class Reihe {
Standardpreis
}

class Schauspieler {
Nachname
Vorname
Nationalität
Geburtsdatum
Todesdatum
Bemerkung
}

class Regisseur {
Nachname
Vorname
Nationalität
Geburtsdatum
Todesdatum
Bemerkung
}

Kino ||--|{ Saal
Saal ||--|{ Reihe
Saal }o--|{ Film
Saal ||--|| Spielplan
Saal ||--|| Sitzplan
Schauspieler }|--o{ Film
Film }o--|| Regisseur
Reihe ||--|{ Sitz
Sitz ||--|| Eintrittskarte

@enduml
----

* Das ist definitiv kein Klassendiagramm
** Nur ERDs haben eine Crow-Foot-Notation
* Zuwenige Attribute
* In weiten Teilen nicht korrekt
* Du solltest Dein Class-Diagram selbst erstellen. Sonst leidet der Lerneffekt!!! -> 25TV


== 14KF - gut(2)


[plantuml]
----
@startuml
class CinemaChain{
    - name: String
    - cinemas: List<Cinema>
}

class Cinema{
    - name: String
    - address: String
    - ticketSales: List<TicketSale>
    - rooms: List<CinemaRoom>
}

class CinemaRoom{
    - number
    - rows: List<Row>
    - cinema: Cinema
}

class Movie{
    - actors: List<Person>
    - director: Person
    - title: String
    - type: String
    - productionYear: int
    - country: String
    - language: String
    - duration: Duration
    - filmDistributor: String
}

class Person{
    - lastName: String
    - firstName: String
    - nationality: String
    - dateOfBirth: Date
    - dateOfDeath: Date
    - comment: String
    - isActor: Boolean
    - isDirector: Boolean
}

class Ticket{
    - show:Show
    - cinema: String
    - room: String
    - movie: String
    - date: String
    - startingTime: String
    - serialNumber: long
    - row: Row
    - seat: Seat
    - price: double
    - dateAndTimeOfSale: DateTime
}

class Show{
    - movie: Movie
    - cinema: Cinema
    - room: CinemaRoom
    - individualRowPrices: Dictionary<int,double>
    'comment: the dictionary contains key-pairs: <changedRow,newPrice>
    - showTime: dateTime
}

class Row{
    - room: CinemaRoom
    - rowNumber: int
    - basePrice: double
    - individualPrice: double
    - seats: List<Seat>
}

class Seat{
    - row: Row
    - seatNo: int
}

/' class TicketSale{
    - ticket: Ticket
    - dateAndTimeOfSale: DateTime
} '/
' I am unsure whether sales should be extracted to an external class or not


CinemaChain "1" --> "1..*" Cinema: "manages"

Cinema "1" --> "1..*" CinemaRoom: has multiple >
CinemaRoom "1..*" --> "1" Cinema: is in a

Person "1..*" <-- "1..*" Movie : acts in a >
Person "1" <-- "1..*" Movie: directs a >

CinemaRoom "1" --> "1..*" Row: has multiple

Row "1" --> "1..*" Seat: has multiple
Seat "1..*" --> "1" Row: is in a

'TicketSale "1" --> "1" Ticket: for one

Ticket "1..*" --> "1" Show: of a
Ticket "1" --> "1" Seat: has a
Show "1" --> "1..*" Ticket: has multiple
Show "1" --> "1" Movie: of a
Show "1..*" --> "1" CinemaRoom: takes place in

' Cinema "1" --> "1..*" TicketSale: has
Cinema "1" --> "1..*" Show: has
@enduml
----

* bidirektionale Beziehungen nicht notwendig - das macht es im ersten Schritt nicht übersichtlicher
* Die Sonderpreise für Reihen (Rows) sind nicht korrekt abgebildet
* Dein Datenmodell ist überbestimmt
** zwischen Cinema und Show darf keine Beziehung sein - wenn ich weiß, in welchem Saal der Film stattfindet, dnn weiß ich auch in welchem Kino der Film gespielt wird
** das ist auch bei vielen anderen Beziehungen so


== 15KP - ngd(5)


[plantuml]
----
@startuml
class Vorstellung{
    Beginn
}

class Kino
class Ticket {
    Kino
    Saal
    Filmtitel
    Datum
    Beginnzeit
    ID
    Reihe
    Platz
    Preis
}
class Saal

class Film{
    Sprache
    ID
    Titel
    Art
    Herkunftsland
    Herstellungsjahr
    Dauer
}
class Sitz{
    Sitznummer
    Reihe
    Preis
}

class Regisseur{
    Todesdatum
    Bemerkungen
    Geburtsdatum
    Nationalität
    Nachname
    Vorname
}
class Schauspieler{
    Todesdatum
    Bemerkungen
    Geburtsdatum
    Nationalität
    Nachname
    Vorname
}


Vorstellung "many" -up- "1" Kino : hat
Vorstellung "many"-- "1" Saal :hat
Vorstellung "many" -right- "1" Film : präsentiert
Vorstellung "1" -left- "many" Ticket : hat


Saal "1" -- "many" Sitz :hat


Film "many" -up- "many" Schauspieler : hat
Film "many" -up- "many" Regisseur : hat


@enduml
----

* die gleichen Fehler wie bei den anderen Abgaben.
* wird im Unterricht besprochen.

== 16KJ - ngd(5)


[plantuml]
----
@startuml
class CinemaChain{
    - cinemas : List<Cinema>
}
class Movie{
    - title : String
    - genre : String
    - produceYear : Date
    - country : String
    - languages : List<String>
    - duration : Timestamp
    - distributor : String
    - director : Director
    - actors : List<Actor>
}
class Actor{
    - lastname : String
    - firstname : String
    - nationality : String
    - birthDate : Date
    - deathDate : Date
    - comment : String
}
class Director{
    - isActor : boolean
}
class Row{
    - seats : List<Seat>
    - standardPrice : double
    - individualPrice : double
}
class Theatre{
    - movieSchedule : MovieSchedule
    - movies : List<Movie>
    - rows : List<Row>
}
class Cinema{
    - name : String
    - address : String
    - theatres : List<Theatre>
    - ticketSales : List<TicketSale>
}
class Seat{
    - isOccupied : boolean
}
class MovieSchedule{
}
class TicketSale{
    - tickets : List<Ticket>
}
class Ticket{
    - cinema : Cinema
    - theatre : Theatre
    - movieName : String
    - date : Date
    - startTime : DateTime
    - row : Row
    - seat : Seat
    - price : double
}

Actor "1..n" -u-> "1..n" Movie : play in >
Movie "1..n" -u-> "1..n" Theatre : show <
Director -r-|> Actor
Cinema "1" <-r- "1..n" TicketSale : has >
Cinema "1..n" --> "1" CinemaChain : has <
Theatre "1" <- "1" MovieSchedule : has a <
Theatre "1" <-- "1..n" Row : includes >
Cinema "1" <- "1..n" Theatre : has >
Row "1" <-- "1..n" Seat : includes >
TicketSale "1" <-- "1..n" Ticket : sells >
@enduml
----

* Korrektur -> siehe 12HS (So ein Zufall, zwei nahezu idente CLDs)
* Jede/r sollte seine eigene Version erstellen, sonst leidet der Lerneffekt



== 17MT - n/a







== 18NN - ngd(5)


[plantuml]
----
@startuml
Vorstellung "many"-up-"1" Kino : hat
Vorstellung "many"--"1" Saal : hat
Vorstellung "many"-right-"1" Film : zeigen
Vorstellung "1"--left--"many" Ticket : hat

Saal "1"--left--"many" Sitz : hat

Film "many"-up-"many" Schauspieler : hat
Film "many"-down-"many" Regisseur : hat

class Film{
ID
Titel
Genre
Herkunftsland
Herstellungsjahr
Dauer
}

class Ticket{
Kino
Saal
Filmtitel
Datum
Beginnzeit
ID
}

class Schauspieler{
    Todesdatum
    Bemerkungen
    Geburtsdatum
    Nationalität
    Nachname
    Vorname
}

class Regisseur{
Todesdatum
    Bemerkungen
    Geburtsdatum
    Nationalität
    Nachname
    Vorname
}

class Sitz{
Sitznummer
Preis
Reihe
}

class Vorstellung{
Beginn
}

class Kino{
Name
Addresse
}
@enduml
----

* Datentyp fehlt
* in weiten Teilen nicht korrekt



== 19PD - ngd(5)



[plantuml]
----
@startuml
class Kino{
- Name: String
- Address: String
- Halls: List<Hall>
}

class Hall {
- HallNo: String
- Movies: List<Movie>
- Seats: List<Seat>
- SeatAreas: List<SeatArea>
}

class Movie {
- MovieNo: String
- Title: String
- Producer: Actor
- Type: String
- CreationDate: DATE
- Country: String
- Language: String
- LengthInSeconds: long
- Rental: String
}

class Seat {
- Place: int
}

class SeatArea {
- Hall: Hall
- RowNo.: int
- StandardPricePerSeat: double
abstract getPricePerSeat();
}

class SingleRow {
getPricePerSeat();
}

class Longe {
getPricePerSeat();
}

class BoughtTicket {
- Kino: Kino
- Hall: Hall
- MovieName: String
- Date: DATE
- StartTime: TIMESTAMP
- ShowingID: int
- Seat: Seat
- SeatArea: SeatArea
- Price: double
}

class Actor {
- LastName: String
- FirstName: String
- Nationality: String
- BirthDate: DATE
- Death: DATE
- Notes: String
- MoviesPlayed: List<Movie>
}

SeatArea <|-- SingleRow
SeatArea <|-- Longe

Hall "1..*" <-l- "1" Kino: made out of
Movie "1..*" <-- "1" Hall: displays
Seat "1..*" <-r- "1" Hall: has
Seat "1..1" <-- "1" BoughtTicket: has
Kino "1..1" <-- "1" BoughtTicket: displayed in
Hall "1..1" <-- "1" BoughtTicket: displayed in
Hall "1" --> "1..*" SeatArea: has
Actor "1" --> "1..*" Movie: plays in
BoughtTicket "1" -l-> "1..1" SeatArea: is for

@enduml
----


* Benennung "BoughtTicket" nicht optimal, da die ungekauften Tickets nicht gespeichert werden.
* "Vorstellung" fehlt
* Überbestimmung zB bei Hall-Seat-BoughtTicket
* Vererbung m.E. zu kompliziert


== 20PJ - n/a







== 21RJ - ngd(5)



[plantuml]
----
@startuml

class Cinema{
    - name: String
    - address: String
    - theatres: List<Theatre>
    - movies: List<Movie>
}

class Theatre{
    - rows: List<Row>
}

class Row{
    - seats: List<Seat>
    - basePrice: int
}

class Seat{
    - number: int
    - row: Row
}

class Showing{
    - individualPricesForRows : List<double>
    - cinema: Cinema
    - theatre: Theatre
    - movie: Movie
    - date: Date
    - startTime: LocalTime
    - tickets: List<Ticket>
}

class Ticket{
    - number: int
    - cinema: Cinema
    - theatre: Theatre
    - movieTitle: String
    - date: Date
    - startTime: LocalTime
    - number: int
    - row: Row
    - seat: Seat
    - price: double
}

class Person{
    -lastName: String
    -firstName: String
    -nationality: String
    -birthDate: Date
    -deathDate: Date
    -note: String
}

class Movie{
    -title: String
    -genre: String
    -productionYear: int
    -country: String
    -language: String
    -duration: Duration
    -rental: String
    -actors: List<Person>
    -director: Person
}

class CinemaChain{
    -name: String
    -cinemas: List<Cinema>
}

Cinema "1" -d-> "1..*" Theatre: has
Theatre "1" -d-> "1..*" Row: has
Row "1" -d-> "1..*" Seat: has
Seat "1..*" -d-> "1" Row: is in
Ticket "1..*" -d-> "1" Seat: has
Ticket "1..*" --> "1" Showing: has
Showing "1" --> "1..*" Ticket: for
Showing "1..*" -u-> "1" Cinema: in
Showing "1..*" --> "1" Movie: has
Showing "1..*" --> "1" Theatre
Movie "1..*" --> "1..*" Person: has Actors
Movie "1..*" --> "1" Person: has Director
Cinema "1" --> "1..*" Movie: can show
CinemaChain "1" -d-> "1..*" Cinema: has

@enduml
----

* CinemaChain würde ich nicht erstellen.
* Die Beziehung zwischen Showing (?!) und Cinema ist eine Überbestimmung.
* Wenn man weiß in welchen Theatre (vermutlich Saal) die Vorstellung stattfindet, kann ich weiter zum Cinema navigieren
** Dasselbe mit Ticket, Seat and Row
* Du hast Attribute, zeichnest aber nicht die grafischen Entsprechungen (i.S.v. Assoziationen) ein.
* Leider in weiten Teilen nicht korrekt.



== 22RM - ngd(5)


[plantuml]
----
@startuml

class CinemaChain{
    - name: String
    - cinemas: List<Cinema>
}

class Cinema{
    - name: String
    - address: String
    - phoneNumber: String
    - theatres: List<Theatre>
    - movies: List<Movie>
    - showings: List<Showing>
    - tickets: List<Ticket>
}

class Theatre{
    - number: int
    - rows: List<Row>
}

class Seat{
    - row: Row
    - number: int
    - isBooked: boolean
}

class Row{
    - number: int
    - basePrice: double
    - seats: List<Seat>
}

class Movie{
    - title: String
    - genre: String
    - releaseDate: Date
    - country: String
    - language: List<String>
    - duration: Duration
    - distributor: String
    - actors: List<Person>
    - director: Person
}

class Ticket{
    - showing: Showing
    - cinema: String
    - theatre: int
    - movieTitle: String
    - date: Date
    - time: Time
    - number: int
    - row: int
    - seat: int
    - price: double
}

class Person{
    - firstName: String
    - lastName: String
    - nationality: String
    - dateOfBirth: Date
    - dateOfDeath: Date
    - note: String
}

class Showing{
    - cinema: Cinema
    - theatre: Theatre [clone]
    - movie: Movie
    - date: Date
    - time: Time
    - individualPrices: List<double>
}

Showing "1..n" -l-> "1" Cinema: in
CinemaChain "1" -d-> "1..n" Cinema: owns
Cinema "1" -d---> "1..n" Theatre: has
Theatre "1" -r-> "1..n" Row: has
Movie "1..n" -d-> "1..n" Person:  acts
Movie "1..n" -d-> "1" Person: directs
Row "1" -r-> "1..n" Seat: has
Seat "1..n" -r-> "1" Row: in
Cinema "1..n" -d-> "1..n" Movie: has rights to show
Ticket "1..n" -l-> "1" Showing: for
Ticket "1..n" -d-> "1" Seat: has
Showing "1..n" -l-> "1" Movie: shows
Showing "1..n" -d-> "1" Theatre: in
Cinema "1" -d-> "1..n" Ticket: sells

@enduml
----


* Du solltest ins adoc-File das .puml-File includen und nicht das .png-File (dann werden Änderungen sofort wirksam)
* Korrektur -> siehe 21RJ


== 23SD - n/a







== 24SO - ngd(5)


[plantuml]
----
@startuml
Kino "1"--"viele" Vorstellung
Ticket "viele"--"1" Vorstellung
Vorstellung "1"--"1" Film
Regisseur "1"--"viele" Film
Schauspieler "viele"--"1" Film
Vorstellung "1"--"1" Saal
Saal "1"--"viele" Sitz

class Kino{
    Name
    Addresse
}

class Vorstellung {
}

class Schauspieler{
    Nachname
    Vorname
    Nationalität
    Geburtsdatum
    Todesdatum
    Bemerkung
}

class Regisseur {
    Nachname
    Vorname
    Nationalität
    Geburtsdatum
    Todesdatum
    Bemerkung
}

class Film{
   Titel
   Art
   Herstelungsjahr
   Land
   Sprache
   Dauer
   Verleih
}

class Saal{
}

class Sitz{
    Nummer
    Reihe
}

class Ticket{
    Kino
    Saal
    Datum
    Beginnzeit
    ID
    Reihe
    Platz
    Preis
}

@enduml
----

* Datentypen und Sichtbarkeit fehlen
* In weiten Teilen leider nicht korrekt




== 25TV - ngd(5)

[plantuml]
----
@startuml

class Cinema {

}

class Room {

}

class Movie {
    title
    type
    productionYear
    country
    language
    length
    rental
}

class SeatingPlan {

}

class Seat {
    row
    place
}

class Entrycard {
    cinema
    room
    movieTitle
    date
    startTime
    number during presentation
    row
    place
    price
}

class Actor {
    firstName
    lastName
    nationality
    birthDate
    deathDate
    notes
}

class Director {
    firstName
    lastName
    nationality
    birthDate
    deathDate
    notes
}

class PlayPlan {

}

class Row {
    basePrice
}

Cinema ||--|{ Room
Room }|--|{ Movie
Room ||--|| SeatingPlan
SeatingPlan ||--|{ Seat
Movie }o--|| Director
Movie }|--|{ Actor
Seat ||--|| Entrycard
Room ||--|| PlayPlan
Room ||--|{ Row

@enduml
----

* Das ist definitiv kein Klassendiagramm
** Nur ERDs haben eine Crow-Foot-Notation
* Zuwenige Attribute
* In weiten Teilen nicht korrekt
* Du solltest Dein Class-Diagram selbst erstellen. Sonst leidet der Lerneffekt!!! -> 13HN


== 26TM - ngd(5)


[plantuml]
----
@startuml
class Company{
    - companyname: String
    - cinema: List<Cinema>
    # Company(String name)
}

class Cinema{
    - name: string
    - adress: Location
    - halls: List<Hall>
    # Cinma(String name, Location adress)
    + void addHall(Hall hall)
    + void addHall(List<Hall> halls)
}

class Location{
    - city: String
    - plz: String
    - adress: String
    # Location(String city, String plz, String adress)
}

class Hall{
    - hallNr: static int
    - movies: List<Movie>
    - loge: List<Loge>
    # Hall()
    + addMovie(Movie movie)
    + addLoge(Loge loge)
}

class Loge{
    - rowNr: int
    - seats: boolean[]
    - defaultPricePerSeat: double
    # Loge(int rowNr,int seats, double defaultPriceperSeat)
}

class Movie{
    - mname: String
    - genre: String
    - director: Person
    - actors: List<Person>
    - releaseyear: Date
    - country: String
    - language: String
    - duration: double
    - rentagency: String
    # Movie(String name, String genre, String director, Date releaseyear, String country, String language, double duration, String rentagency)
    + void addActor(Person person)
    + void addActor(List<Person> persons)
}

class Person{
    - firstname: String
    - lastname: String
    - nationality: String
    - dateOfBirth: Date
    - dateOfDeath: Date
    - remark: String
    # Person(String firstname, String lastname, String nationality, Date dateOfBirth, Date dateOfDeath)
    # Person(String firstname, String lastname, String nationality, Date dateOfBirth, Date dateOfDeath, String remark)
}

class Ticket{
    - cinema: Cinema
    - hall: Hall
    - mname: String
    - date: Date
    - start: Date
    - id: static int
    - rowNr: int
    - seat: int
    - price: int
    # Ticket(Cinema cinema, Hall hall, String mname, Date date, Date start, int rowNr, int seat)
    + int getPrice()
    + Movie getMovie()
}

Company "1" <-- "1..*" Cinema : gehört zu <
Cinema "1" <-- "1..*" Hall: hat <
Hall "1" <-l- "1" Ticket: gehört zu <
Cinema "1" <-- "1" Location: ist in <
Movie "*" -u-> "*" Hall: spielt ab in >
Movie "*" <-- "1" Person: spielt in <
Hall "1" <-l- "*" Loge: hat <
@enduml
----



* Du solltest ins adoc-File das .puml-File includen und nicht das .png-File (dann werden Änderungen sofort wirksam)
* Die Übersichtlichkeit leidet, wenn man Methoden/Konstruktoren mit langen Parameterleisten inkludiert.
Für die Modellierung als ersten Schritt, kann man sich auf die wichtigsten Methoden beschränken
* Dir fehlen die grafischen Assoziation:
** In Ticket hast Du zB Cinema als Feld, jedoch keine grafische Assoziation
** btw das ist eine Überbestimmung
* Sei vorsichtig (i.S.v. sparsam) mit Collections

== 27TJ - ngd(5)

image:27TJ-cld.png[]

* PlantUML verwenden
* Klassenbezeichner immer im Singular, nicht "Karten" sondern "Karte"
* Da eine Loge wie eine Reihe verwaltet werden soll, ist keine eigene Klasse notwendig.
* Attribute bei den Klassen erleichtern das Verständnis
** insbesondere bei den Assoziationen
* Dein CLD ist leider in weiten Teilen nicht korrekt

== 28ZD - ngd(5)


[plantuml]
----
@startuml
class Kino{
 Säle: Saal
}

class Saal{
 Loge: Loge
 Sitzplan: Sitzplan
 Film: Film
}

class Loge{
 Reihe: Sitz
}

class Sitzplan{
 Sitze: List<Sitz>
}

class Sitz{
 Reihe: Reihe
 Platz: int
}

class Reihe{
 Reihennummer: int
 Loge: bool
 Standardpreis: double
}

class Spielplan{
 Saal: Saal
 Ticket: Ticket
}

class Ticket{
 Kino: Kino
 Saal: Kino->Saal
 Filmtitel: Film->Titel
 Datum: int
 Beginnzeit: int
 runningNr: int
 Reihe: Reihe->Reihennummer
 Platz: Sitz->Platz
 Preis: double
}

class Film{
 Titel: string
 Schauspieler: List<Schauspieler>
 Regisseur: Regisseur
 Art: string
 Herstellungsjahr: int
 Land: string
 Sprache: string
 Dauer: int
 Verleih: string
}

class Schauspieler{
 Nachname: string
 Vorname: string
 Nationalitaet: string
 Geburtsdatum: int
 Todesdatum: int
 Bemerkung: string
}

class Regisseur{
 Nachname: string
 Vorname: string
 Nationalitaet: string
 Geburtsdatum: int
 Todesdatum: int
 Bemerkung: string
}

Kino o-- Saal
Saal o-- Loge
Saal <|-- Sitzplan
Saal *-- Film
Sitzplan <|-- Sitz
Sitz <|-- Reihe
Saal <|-- Spielplan
Spielplan <|-- Ticket
Film <|-- Schauspieler
Film <|-- Regisseur
Loge <|-- Reihe
Sitz <|-- Ticket
@enduml
----

* Du verwendest fast ausschließlich Vererbungsbeziehungen. Das ist ganz schlecht!
* die gleichen Fehler wie bei den anderen Abgaben.
* wird im Unterricht besprochen.


== Fazit

[IMPORTANT]
Sehen sie sich auch die Fehler bzw das Feedback der anderen Abgaben an.
Habe nicht alles doppelt und dreifach zu jeder Abgabe hinzugeschrieben.
In der nächsten Unterrichtsstunde wird das Beispiel ausgiebig besprochen.

* Was ist zu besprechen:
** "Ringerl" bei Überbestimmung
** Sternform der CLDs
*** Klassen sind isoliert am Rand
*** am Rand eher Lookup-Tables
** Wichtigkeit von exaktem Arbeiten

=== Allgemeines

* Die Klassendiagramme hier sind meist Domain-Object-Models, die in einer Datenbank zu persistieren wären
** Es ist (zu Übungszwecken) angebracht, Collections nur sparsam zu verwenden
** und sich eher an ERDs zu orientieren.
* Datenmodelle (UML-Diagramme und auch andere) sind, wenn möglich
** als Plantuml-Diagramme (.puml)
** eingebettet in ein Asciidoctor-Dokument (.adoc) abzugeben
* Datenmodelle, die zu Übungszwecken erstelllt werden, müssen (bzw. sollen) *nicht* in Englisch übersetzt werden.


=== Notation von CLDs

* siehe https://plantuml.com/class-diagram
* Klassenbezeichner immer im Singular, nicht "Säle" sondern "Saal"
* Klassenbezeichner sind groß zu schreiben zB Ticket und nicht "ticket"
* Die Übersichtlichkeit leidet, wenn man Methoden/Konstruktoren mit langen Parameterleisten inkludiert.
Für die Modellierung als ersten Schritt, kann man sich auf die wichtigsten Methoden beschränken

==== Zwei Arten der Darstellung assoziativer Tabellen

* Assoziative Tabellen werden zur Auflösung von \*:*-Beziehungen gebraucht

===== Ausgangssituation

[plantuml]
----
@startuml
left to right direction
Produkt "1..*" -- "*" Rechnung: enthält <
@enduml
----

===== Notation 1

[plantuml]
----
@startuml
left to right direction
class Rechnungsposition {
  rechnung: Rechnung
  produkt Produkt
  menge: int
  preisProStk: BigDecimal
}
Produkt "1" <-- "*" Rechnungsposition
Rechnungsposition "*" --> "1" Rechnung
@enduml
----


===== Notation 2

[plantuml]
----
@startuml
left to right direction
class Rechnungsposition {
  rechnung: Rechnung
  produkt Produkt
  menge: int
  preisProStk: BigDecimal
}
Produkt "1..*" -- "*" Rechnung: enthält <
(Produkt,Rechnung) .. Rechnungsposition
@enduml
----


=== Schreibweisen
* Welche Schreibweisen gibt es
** PascalCase
** camelCase   -> für (Java-)Programmiersprache
** kebap-case  -> für github
** snake_case  -> für DB

=== Sichtbarkeit

* Wie sind Attribute in Klassen einzutragen
** <Sichtbarkeit> <Attributname>: <Datentyp>
** Sichtbarkeit
*** + -> public
*** - -> private
*** ~ -> protected

=== Überbestimmung

* Datenmodelle dürfen nicht überbestimmt sein

.falsch
[plantuml]
----
@startuml
class Row {
}
class Seat {
  -row: Row
}
class Ticket {
  -row: Row
  -seat: Seat
}

Row <-l- Seat
Ticket -l-> Row
Ticket -l-> Seat
@enduml
----

.richtig: Kenne ich den Sitz, kann ich auf die Reihe weiternavigieren
[plantuml]
----
@startuml
class Row {
}
class Seat {
  -row: Row
}
class Ticket {
  -row: Row
  -seat: Seat
}

Row <-l- Seat
Ticket -l-> Seat
@enduml
----

=== Stamm- und Bewegungsdaten

https://www.repetico.de/card-77739393
https://www.myodoo.de/en/blog/news-50/post/difference-between-master-data-and-transaction-data-270

==== Stammdaten (Master Data)

* *sind länger "gültig"* (zB Kunde, Produkt, ...)

* Sind Daten die über einen längeren Zeitraum unverändert bleiben.
Sie enthalten Informationen die immer wieder benötigt werden.
(Bsp. Stammdaten: Stückliste, Arbeitsplatz und Arbeitsplan, Lieferanten und Kundenstammdaten)

==== Bewegungsdaten (Transaction Data)

* *sind einer Abrechnungsperiode zurechenbar* (zB Rechnung, Bestellung, ...)

* Haben keine dauerhafte Gültigkeit, Daten verändern sich.
Daten die im täglichen Geschäft enstehen,
z.B. Veränderung durch Bestellung, Rechnung, Warenentnahme aus dem Lager

== Musterlösung

=== Class Diagram (ohne Vererbung mit Rolle)


image::kinokette-cld-musterloesung-variante-mit-rolle.png[]


=== ERD (mit Vererbung)

image:kinokette-erd.png[]
